# iScrcpy 使用指南

iScrcpy 是一个基于 [scrcpy](https://github.com/Genymobile/scrcpy) 的 Android 设备投屏工具，提供简洁的图形界面和丰富的自定义功能。

## 目录

- [快速开始](#快速开始)
- [连接设备](#连接设备)
- [投屏设置](#投屏设置)
- [录制功能](#录制功能)
- [窗口设置](#窗口设置)
- [相机镜像](#相机镜像)
- [编码设置](#编码设置)
- [常见问题](#常见问题)

---

## 快速开始

### 系统要求

- Windows 10/11
- Android 5.0+ 设备
- USB 调试已开启
- 或 WiFi 网络连接

### 首次使用

1. 下载并安装 iScrcpy
2. 连接 Android 设备到电脑
3. 在设备上授权 USB 调试
4. 点击设备卡片上的「开始投屏」按钮

---

## 连接设备

### USB 连接

1. 使用 USB 数据线连接手机和电脑
2. 在手机上弹出授权提示时，点击「允许」
3. 设备将显示在 USB 设备列表中
4. 点击「开始投屏」

### WiFi 连接

**方法一：使用 TCP/IP 模式**

1. 先通过 USB 连接设备
2. 点击设备卡上的「启用 WiFi」按钮
3. 等待设备 IP 获取成功
4. 断开 USB，使用 WiFi 连接

**方法二：手动连接**

1. 确保手机和电脑在同一网络
2. 在手机上启用开发者选项 → 网络调试
3. 点击「添加 WiFi 设备」
4. 输入设备 IP 地址（如 `192.168.1.100:5555`）

---

## 投屏设置

进入「投屏」标签页，可配置以下选项：

### 视频设置

| 选项 | 说明 | 默认值 |
|------|------|--------|
| 最大分辨率 | 限制视频最大尺寸 | 1080p |
| 视频比特率 | 视频编码质量 (Mbps) | 8 Mbps |
| 帧率 | 最大帧率限制 | 60 fps |
| 启用视频 | 开启/关闭视频流 | 开启 |
| 启用音频 | 开启/关闭音频流 | 开启 |

### 窗口设置

| 选项 | 说明 |
|------|------|
| 窗口置顶 | 保持投屏窗口在最前面 |
| 全屏模式 | 启动时全屏显示 |
| 保持唤醒 | 投屏时设备屏幕常亮 |
| 无边框模式 | 隐藏窗口标题栏和边框 |
| 禁止屏幕保护 | 防止系统休眠和屏保 |

---

## 录制功能

### 基础录制

1. 在设备卡片上点击红色录制按钮
2. 再次点击停止录制
3. 视频默认保存到下载目录

### 自动录制

在「投屏」→「录制设置」中：

| 选项 | 说明 |
|------|------|
| 自动录制 | 连接时自动开始录制 |
| 录制音频 | 同时录制音频 |
| 保存路径 | 自定义保存位置 |
| 时间限制 | 录制时长限制（0 为无限制） |

### 录制格式

- 支持 MP4、MKV、WEBM 格式
- 视频编码：H.264 / H.265 / AV1
- 音频编码：Opus / AAC

---

## 相机镜像

### 启用相机镜像

1. 在「投屏」→「相机设置」中启用
2. 选择相机分辨率和帧率
3. 点击设备卡上的相机按钮

### 相机设置

| 选项 | 说明 |
|------|------|
| 相机分辨率 | 640x480 ~ 3840x2160 |
| 相机帧率 | 15 ~ 120 fps |

---

## 编码设置

进入「编码」标签页，可配置高级编码选项：

### 视频编码器

| 编码器 | 说明 |
|--------|------|
| H.264 | 默认，最佳兼容性 |
| H.265 | 更高压缩率，需设备支持 |
| AV1 | 最新编码，需设备支持 |

### 音频编码器

| 编码器 | 说明 |
|--------|------|
| Opus | 默认，推荐使用 |
| AAC | 兼容性好 |

### 比特率模式

| 模式 | 说明 |
|------|------|
| VBR | 可变比特率，文件更小 |
| CBR | 恒定比特率，稳定性更好 |

---

## 服务器设置

进入「服务器」标签页：

### 隧道模式

- **反向隧道 (默认)**：通过 `adb reverse` 连接
- **正向隧道**：通过 `adb forward` 连接

### 自动清理

启用后，断开连接时自动清理 scrcpy 服务器进程。

---

## 常见问题

### Q: 连接设备无反应？

1. 检查 USB 数据线是否支持数据传输
2. 确认设备已开启 USB 调试
3. 尝试重新插拔数据线
4. 检查是否安装了正确的 ADB 驱动

### Q: 投屏画面卡顿？

1. 降低最大分辨率
2. 减少视频比特率
3. 降低帧率限制
4. 尝试使用 WiFi 5GHz 网络

### Q: 没有声音？

1. 检查「投屏」设置中音频已启用
2. 检查电脑音量设置
3. 部分设备可能不支持音频传输

### Q: 录制文件损坏？

1. 使用「停止录制」按钮正常停止
2. 避免在录制时强制断开
3. iScrcpy 会自动尝试修复损坏文件

### Q: 如何退出全屏？

按 `MOD+f` 快捷键，或重启投屏取消全屏选项。

---

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| `MOD+f` | 切换全屏 |
| `MOD+左/右` | 旋转屏幕 |
| `MOD+g` | 切换黑屏 |
| `MOD+r` | 切换设备旋转 |
| `Ctrl+点击+拖动` | 模拟右键 |
| `滚轮` | 模拟音量键 |

---

## 技术支持

- GitHub: [https://github.com/JochenYang/iScrcpy](https://github.com/JochenYang/iScrcpy)
- 问题反馈：请在 GitHub Issues 中提交

---

## 许可证

Apache License 2.0
